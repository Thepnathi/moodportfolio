{"ast":null,"code":"import _classCallCheck from \"/Users/robert/Desktop/Uni/team40/moodportfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/robert/Desktop/Uni/team40/moodportfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/robert/Desktop/Uni/team40/moodportfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/robert/Desktop/Uni/team40/moodportfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/robert/Desktop/Uni/team40/moodportfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/robert/Desktop/Uni/team40/moodportfolio/src/components/Dashboard.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { withFormik, Form, Field } from 'formik';\nimport Graph from './Graph';\nimport Login from './Login';\nimport Registration from './Registration';\nimport logo from './logo.png';\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Dashboard, _React$Component);\n\n  function Dashboard(props) {\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n    _this.state = {\n      loggedIn: false\n    };\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var authToken = sessionStorage.getItem(\"authToken\");\n      console.log(\"SENDING TOKEN: \", authToken);\n      fetch('http://localhost:5000/api/Login', {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        withCredentials: true,\n        credentials: \"same-origin\",\n        headers: {\n          \"Authorization\": authToken,\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        console.log(json);\n\n        if (!json.success) {\n          ReactDOM.render(React.createElement(Login, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }), document.getElementById('root'));\n        } else {\n          _this2.loggedIn = true;\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Hello! You are: \");\n    }\n  }]);\n\n  return Dashboard;\n}(React.Component);\n\nexport { Dashboard as default };","map":{"version":3,"sources":["/Users/robert/Desktop/Uni/team40/moodportfolio/src/components/Dashboard.js"],"names":["React","ReactDOM","withFormik","Form","Field","Graph","Login","Registration","logo","Dashboard","props","state","loggedIn","authToken","sessionStorage","getItem","console","log","fetch","method","mode","cache","withCredentials","credentials","headers","then","res","json","success","render","document","getElementById","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAAQC,UAAR,EAAoBC,IAApB,EAA0BC,KAA1B,QAAsC,QAAtC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,IAAP,MAAiB,YAAjB;;IAGqBC,S;;;;;AACjB,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAb;AAFiB;AAGlB;;;;wCAEmB;AAAA;;AAChB,UAAIC,SAAS,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BJ,SAA/B;AACAK,MAAAA,KAAK,CAAC,iCAAD,EAAoC;AACrCC,QAAAA,MAAM,EAAE,KAD6B;AAErCC,QAAAA,IAAI,EAAE,MAF+B;AAGrCC,QAAAA,KAAK,EAAE,UAH8B;AAIrCC,QAAAA,eAAe,EAAE,IAJoB;AAKrCC,QAAAA,WAAW,EAAE,aALwB;AAMrCC,QAAAA,OAAO,EAAE;AACL,2BAAiBX,SADZ;AAEL,0BAAgB;AAFX;AAN4B,OAApC,CAAL,CAWCY,IAXD,CAWM,UAACC,GAAD;AAAA,eAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,OAXN,EAYCF,IAZD,CAYM,UAAAE,IAAI,EAAI;AACVX,QAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;;AACA,YAAI,CAACA,IAAI,CAACC,OAAV,EAAmB;AACf3B,UAAAA,QAAQ,CAAC4B,MAAT,CACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEIC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAFJ;AAIH,SALD,MAMK;AACD,UAAA,MAAI,CAACnB,QAAL,GAAgB,IAAhB;AACH;AACJ,OAvBD;AAwBH;;;6BAEQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF;AAGD;;;;EAvCkCZ,KAAK,CAACgC,S;;SAAxBvB,S","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {withFormik, Form, Field} from 'formik'\nimport Graph from './Graph'\nimport Login from './Login'\nimport Registration from './Registration'\nimport logo from './logo.png'\n\n\nexport default class Dashboard extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {loggedIn: false};\n    }\n  \n    componentDidMount() {\n        let authToken = sessionStorage.getItem(\"authToken\");\n        console.log(\"SENDING TOKEN: \", authToken)\n        fetch('http://localhost:5000/api/Login', {\n            method: \"GET\", \n            mode: \"cors\",\n            cache: \"no-cache\",\n            withCredentials: true,\n            credentials: \"same-origin\",\n            headers: {\n                \"Authorization\": authToken,\n                \"Content-Type\": \"application/json\",\n            },\n        })\n        .then((res) => res.json())\n        .then(json => {\n            console.log(json)\n            if (!json.success) {\n                ReactDOM.render(\n                    <Login />,\n                    document.getElementById('root')\n                );\n            }\n            else {\n                this.loggedIn = true\n            }\n        })\n    }\n \n    render() {\n      return (\n        <h1>Hello! You are: </h1>\n      );\n    }\n  }"]},"metadata":{},"sourceType":"module"}